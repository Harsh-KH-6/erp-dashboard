<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bunk Calculator Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="dashboard-container">
    <div class="dashboard-header">
      <h1>Attendance Analyzer Dashboard</h1>
      <button id="infoBtn" class="info-btn" title="Show marks criteria">
        &#9432;
      </button>
    </div>
    <div id="marksCriteriaPopup" class="marks-criteria-popup" style="display:none;">
      <strong>Marks Criteria:</strong><br>
      â‰¥85% = 5 marks<br>
      80-84% = 4 marks<br>
      75-79% = 3 marks<br>
      70-74% = 2 marks<br>
      65-69% = 1 mark<br>
      &lt;65% = 0 marks
    </div>
    <div class="welcome-msg" id="welcomeMsg"></div>
    <div class="attendance-section">
      <h2>Subject Wise Attendance</h2>
      <table class="attendance-table" id="subjectAttendanceTable">
        <thead>
          <tr>
            <th>S/N</th>
            <th>Subject</th>
            <th>Faculty</th>
            <th>Classes Held</th>
            <th>Classes Attended</th>
            <th>Att %</th>
            <th>Marks</th>
          </tr>
        </thead>
        <tbody id="subjectAttendanceBody">
          <!-- Rows will be rendered by JS -->
        </tbody>
      </table>
    </div>
    <div class="attendance-section">
      <h2>Attendance & Leave Filter</h2>
      <table class="attendance-table" id="filterAttendanceTable">
        <thead>
          <tr>
            <th>Subject</th>
            <th>
              <select id="attendanceFilter">
                <option value="overall">Overall</option>
                <!-- Subject options will be added by JS -->
              </select>
            </th>
          </tr>
        </thead>
        <!-- Remove the old <tbody id="filterAttendanceBody"> section -->
      </table>
      <div class="bunk-attend-tables">
        <h3 class="bunk-table-title">How many more classes can I leave?</h3>
        <table class="attendance-table" id="bunkableTable">
          <thead>
            <tr>
              <th>Attendance Target (%)</th>
              <th>Leave Allowed</th>
            </tr>
          </thead>
          <tbody id="bunkableTableBody"></tbody>
        </table>
        <h3 class="attend-table-title">How many more classes must I attend?</h3>
        <table class="attendance-table" id="attendTable">
          <thead>
            <tr>
              <th>Attendance Target (%)</th>
              <th>Classes to Attend</th>
            </tr>
          </thead>
          <tbody id="attendTableBody"></tbody>
        </table>
      </div>
    </div>

    <!-- Notification Settings Section -->
    <div class="attendance-section">
      <h2>ðŸ“§ Notification Settings</h2>
      <div class="notification-settings">
        <div class="setting-group">
          <label for="notificationEmail">Email Address:</label>
          <input type="email" id="notificationEmail" placeholder="Enter your email for alerts">
        </div>
        <div class="setting-group">
          <label>
            <input type="checkbox" id="emailNotifications" checked>
            Receive email notifications
          </label>
        </div>
        <div class="setting-group">
          <button id="saveNotificationSettings" class="save-btn">Save Settings</button>
          <button id="testNotification" class="test-btn">Test Notification</button>
        </div>
        <div id="notificationStatus" class="notification-status"></div>
      </div>
    </div>
    <a href="index.html" class="back-link">&larr; Back to Login</a>
    <p class="disclaimer">* This data is calculated based on your ERP data. For official records, always refer to your ERP portal.</p>
  </div>
  <script src="dashboard.js"></script>
</body>
</html> 